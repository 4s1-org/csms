import { NormalLoadingScenario } from './normal-loading-scenario'
import { ProcessEnv } from './process-env'

async function main(): Promise<void> {
  const promises = []
  for (let i = 1; i <= 100; i++) {
    const scenario = new NormalLoadingScenario(ProcessEnv.HTTPS, ProcessEnv.SERVER, `CS${i}`, `CS${i}`, 'test')
    const promise = new Promise((resolve) => setTimeout(resolve, Math.random() * 1000)).then(() => scenario.simulate())
    promises.push(promise)
  }
  await Promise.all(promises)
}

main().catch(console.error)
